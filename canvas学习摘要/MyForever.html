<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>我的爱人</title>
    <style type="text/css">
        #Love{
            color: #fb7d4e;
        }
    </style>
</head>
<body>
<div style="display: flex;justify-content: center;flex-wrap: wrap">
    <canvas id="Love" width="1314" height="520"></canvas>
    <canvas id="House" width="500" height="450"></canvas>
    <div>
        <canvas id="clock" width="500" height="500"></canvas>
    </div>
</div>

<script type="application/javascript">
    // 封装的一个用于绘制圆角矩形的函数.
    function roundedRect(ctx,x,y,width,height,radius){
        ctx.beginPath();
        ctx.moveTo(x,y+radius);
        ctx.lineTo(x,y+height-radius);
        ctx.quadraticCurveTo(x,y+height,x+radius,y+height);
        ctx.lineTo(x+width-radius,y+height);
        ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius);
        ctx.lineTo(x+width,y+radius);
        ctx.quadraticCurveTo(x+width,y,x+width-radius,y);
        ctx.lineTo(x+radius,y);
        ctx.quadraticCurveTo(x,y,x,y+radius);
        ctx.stroke();
    }

    function House() {
        let ctx = document.getElementById("House").getContext("2d")
        ctx.strokeRect(0,0,500,450)
        ctx.translate(50,50)
        ctx.save()
        // 创建矩形(窗户) 函数
        function window(x,y,w,h) {
            ctx.moveTo(x,y)
            ctx.lineTo(x+w,y)
            ctx.lineTo(x+w,y+h)
            ctx.lineTo(x,y+h)
            ctx.lineTo(x,y)
            ctx.fill()
            ctx.stroke()
            ctx.save()
        }
        // 房顶颜色渐变
        let roof1 = ctx.createLinearGradient(30,60,180,101);
        roof1.addColorStop(0, '#ff8259');
        roof1.addColorStop(0.4, '#d14c4c');
        roof1.addColorStop(1,'#7f3030')
        let roof2 = ctx.createLinearGradient(180,0,350,50);
        roof2.addColorStop(0, '#ff8259');
        roof2.addColorStop(0.4, '#d14c4c');
        roof2.addColorStop(1,'#7f3030')
        //墙体颜色渐变
        let wall = ctx.createLinearGradient(-30,100,50,350);
        wall.addColorStop(0, '#fff');
        wall.addColorStop(0.6, '#f5d7ff');
        wall.addColorStop(1,'#ebdeee')
        //窗户颜色渐变
        let windowl = ctx.createLinearGradient(105,215,60,180)
        windowl.addColorStop(0,'#acabac')
        windowl.addColorStop(0.5,'#d4e1ff')
        windowl.addColorStop(1,'#fff')
        let window2 = ctx.createLinearGradient(95,145,155,215)
        window2.addColorStop(0,'#acabac')
        window2.addColorStop(0.5,'#d4e1ff')
        window2.addColorStop(1,'#fff')
        let window3 = ctx.createLinearGradient(170,50,270,150)
        window3.addColorStop(0,'#acabac')
        window3.addColorStop(0.5,'#d4e1ff')
        window3.addColorStop(1,'#fff')
        //门的颜色渐变
        let door1 = ctx.createLinearGradient(165,350,50,75)
        door1.addColorStop(0,'#E4C700')
        door1.addColorStop(0.5,'#858485')
        door1.addColorStop(1,'#fff')
        let door2 = ctx.createLinearGradient(335,350,250,264)
        door2.addColorStop(0,'#fff')
        door2.addColorStop(0.2,'#858485')
        door2.addColorStop(1,'#E4C700')

        // 房顶1
        ctx.beginPath()
        ctx.fillStyle = roof1
        ctx.lineWidth = 6
        ctx.lineCap = "round"
        ctx.lineJoin = "bevel"
        ctx.moveTo(30,96)
        ctx.lineTo(130,60)
        ctx.lineTo(180,101)
        ctx.fill()
        ctx.stroke()
        ctx.save()
        //房顶2
        ctx.beginPath()
        ctx.fillStyle = roof2
        ctx.moveTo(180,50)
        ctx.lineTo(250,0)
        ctx.lineTo(390,50)
        ctx.fill()
        ctx.stroke()
        ctx.save()
        // 左边烟筒
        ctx.restore()
        ctx.beginPath()
        ctx.moveTo(60,80)
        ctx.lineTo(60,40)
        ctx.lineTo(77,40)
        ctx.lineTo(77,75)
        ctx.fillStyle = "#F4F201"
        ctx.fill()
        ctx.stroke()
        ctx.save()
        // 右边烟筒
        ctx.beginPath()
        ctx.fillStyle = '#00C9FF'
        ctx.moveTo(345,30)
        ctx.lineTo(345,-15)
        ctx.lineTo(325,-15)
        ctx.lineTo(325,22)
        ctx.fill()
        ctx.stroke()

        // 主体房子
        ctx.restore()
        ctx.fillStyle = wall
        ctx.beginPath()
        ctx.lineWidth = 8
        ctx.moveTo(30,100)
        ctx.lineJoin = "round"
        ctx.quadraticCurveTo(-30,100,50,350)
        ctx.lineTo(180,350)
        ctx.lineTo(360,352)
        ctx.quadraticCurveTo(415,70,385,50)
        ctx.lineTo(180,50)
        ctx.lineTo(180,101)
        ctx.lineTo(30,100)
        ctx.moveTo(180,101)
        ctx.lineTo(180,350)
        ctx.fill()
        ctx.stroke()
        ctx.save()

        // 左边窗户
        ctx.fillStyle = windowl
        ctx.beginPath()
        ctx.lineWidth = 5
        window(60,180,35,35)
        ctx.fillStyle = window2
        window(120,180,35,35)
        window(60,230,35,28)

        // 右边的窗户
        ctx.beginPath()
        ctx.fillStyle = window3
        window(220,100,40,50)
        window(220,180,40,35)
        window(300,100,45,40)
        window(310,180,30,40)

        // 门
        ctx.beginPath()
        ctx.fillStyle = door1
        window(115,275,50,75)
        ctx.beginPath()
        ctx.fillStyle = door2
        window(265,264,50,85)
    }
    House()
    function Love() {
        let canvas = document.getElementById("Love")
        if(canvas.getContext){
            let ctx = canvas.getContext("2d")
            ctx.strokeRect(0,0,1314,520)

            ctx.translate(25,25)
            let sun = ctx.createRadialGradient(65.7,65.7,25,65.7,65.7,65.7)
            sun.addColorStop(0,'#F4F201')
            sun.addColorStop(0.8,'#E4C700')
            sun.addColorStop(1,'rgba(228,199,0,0)')
            ctx.fillStyle = sun
            ctx.fillRect(0,0,131.4,131.4)
            ctx.save()

            ctx.beginPath()
            ctx.translate(657,260)
            ctx.arc(0,0,5,0,Math.PI*2,false)
            ctx.fillStyle = 'pink'
            ctx.fill()
            ctx.save()

        }
    }
    Love()

    function clock() {
        let time = new Date()
        let ctx = document.getElementById("clock").getContext("2d")
        ctx.save()
        ctx.scale(0.6,0.6)
        ctx.clearRect(0,0,500,500);
        ctx.translate(250,250)

        // 表盘
        // 当然分别计算出 x 和 y 坐标（x = r*Math.cos(a); y = r*Math.sin(a)）
        ctx.beginPath();
        ctx.strokeStyle = '#325FA2'
        ctx.lineWidth = 8
        ctx.arc(0,0,200,0,Math.PI*2,false)
        ctx.stroke()
        ctx.save()
        for(let i = 0;i < 60;i++){
            ctx.strokeStyle = '#000000'
            if(i%5 === 0){
                ctx.beginPath()
                ctx.lineWidth = 5
                ctx.moveTo(165*Math.cos(Math.PI*2*i/60),165*Math.sin(Math.PI*2*i/60))
                ctx.lineTo(180*Math.cos(Math.PI*2*i/60),180*Math.sin(Math.PI*2*i/60))
                ctx.stroke()
            } else {
                ctx.lineWidth = 3
                ctx.moveTo(173*Math.cos(Math.PI*2*i/60),173*Math.sin(Math.PI*2*i/60))
                ctx.lineTo(180*Math.cos(Math.PI*2*i/60),180*Math.sin(Math.PI*2*i/60))
                ctx.stroke()
            }
        }
        for(let i = 1;i <= 12; i++){
            if(i%3 === 0){
                ctx.save()
                ctx.beginPath()
                ctx.font = "28px serif";
                ctx.fillText(i,154*Math.cos(Math.PI*(i - 3)/6),154*Math.sin(Math.PI*(i - 3)/6),25)
                ctx.stroke()
                ctx.restore()
            }else {
                ctx.save()
                ctx.beginPath()
                ctx.font = "20px serif";
                ctx.fillText(i,154*Math.cos(Math.PI*(i - 3)/6),154*Math.sin(Math.PI*(i - 3)/6),25)
                ctx.stroke()
                ctx.restore()
            }
        }
        ctx.restore();

        // 获取当前时间
        let hr = time.getHours();
        let min = time.getMinutes()
        let sec = time.getSeconds()
        hr = hr >12 ? hr-12 : hr

        ctx.save()
        // write hour
        ctx.strokeStyle = '#000'
        ctx.lineWidth = 14
        ctx.rotate( ctx.rotate( hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec ))
        ctx.beginPath()
        ctx.lineCap = 'round'
        ctx.moveTo(0,10)
        ctx.lineTo(0,-100)
        ctx.stroke()
        ctx.restore()

        // write min
        ctx.save()
        ctx.strokeStyle = '#000'
        ctx.lineWidth = 8
        ctx.lineCap = 'round'
        ctx.rotate((Math.PI/30)*min + (Math.PI/1800)*sec)
        ctx.beginPath()
        ctx.moveTo(0,20)
        ctx.lineTo(0,-135)
        ctx.stroke()
        ctx.restore()

        // write sec
        ctx.save()
        ctx.beginPath()
        ctx.rotate((Math.PI/30)*sec)
        ctx.strokeStyle = '#ff5359'
        ctx.lineCap = 'round'
        ctx.lineWidth = 5
        ctx.lineTo(0,30)
        ctx.lineTo(0,-150)
        ctx.arc(0,-155,5,0,Math.PI*2,false)
        ctx.stroke()
        ctx.beginPath()
        ctx.lineWidth = 3
        ctx.moveTo(0,-160)
        ctx.lineTo(0,-165)
        ctx.stroke()
        ctx.restore()

        //表芯
        ctx.save()
        ctx.beginPath()
        ctx.fillStyle = '#c2494f'
        ctx.arc(0,0,8,0,Math.PI*2,false)
        ctx.fill()

        ctx.restore()
        ctx.restore()
        window.requestAnimationFrame(clock)
    }
    clock()
</script>
</body>
</html>